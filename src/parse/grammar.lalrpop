use crate::expr::{Expr, Id, Node, tests::{Name, TestNode}};

grammar(expr: &mut Expr<TestNode>);

Ident: Name = r"[a-zA-Z]+" => <>.into();
Symbol: Name = r"[+=\-*^&$%@!]+" => <>.into();

pub Term: Id = {
    Ident => expr.add(Node::Variable(<>.into())),
    r"[0-9]+" => expr.add(Node::Constant(<>.into())),
    "(" <op:Ident> <args:Term*> ")" => expr.add(Node::Operator(op.into(), args)),
    "(" <op:Symbol> <args:Term*> ")" => expr.add(Node::Operator(op.into(), args)),
};
