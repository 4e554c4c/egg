use std::str::FromStr;
use crate::expr::{SimpleExpr, Expr, VarId, OpId, ConstId};

grammar(expr: &mut SimpleExpr);

Num: u32 = r"[0-9]+" => u32::from_str(<>).unwrap();

pub Term: u32 = {
    "v" <Num> => expr.add(Expr::Var(VarId(<>))),
    "c" <Num> => expr.add(Expr::Const(ConstId(<>))),
    "(" "o" <op:Num> <args:Term*> ")" => expr.add(Expr::Op(OpId(op), args)),
};
